<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<!--
**********************************************************************************************************************
*
* Copyright (c) Infineon Technologies AG
* All rights reserved.
*
**********************************************************************************************************************
-->

<!DOCTYPE svgdiagram
[
<!-- Coordinate system constants -->
<!ENTITY LINE_Y_H "350">
<!ENTITY LINE_Y_L "380">
<!ENTITY LINE_N_Y_H "400">
<!ENTITY LINE_N_Y_L "430">
<!ENTITY LINE_START_X "50">
<!ENTITY LINE_END_X "850">
<!ENTITY MARKS_Y_BOT "235">

<!-- Triangular counter coordinates with dynamic scaling -->
<!ENTITY TRIANGLE1_LEFT_X  "80">
<!ENTITY TRIANGLE1_PEAK_X  "265">
<!ENTITY TRIANGLE1_RIGHT_X "450">

<!ENTITY TRIANGLE2_LEFT_X  "450">
<!ENTITY TRIANGLE2_PEAK_X  "635">
<!ENTITY TRIANGLE2_RIGHT_X "820">

<!-- Dynamic triangle heights and peak positions -->
<!ENTITY TRIANGLE1_PEAK_Y "60">
<!ENTITY TRIANGLE2_PEAK_Y "60">

<!-- Signal line Y coordinates -->
<!ENTITY OV_Y "240">
<!ENTITY UN_Y "260">
<!ENTITY TC_Y "280">
<!ENTITY CM_Y "300">
<!ENTITY CM_CC1_Y "320">

<!-- Counter line (vertical sawtooth timer indicator) -->
<!ENTITY COUNTER_X "&TRIANGLE1_LEFT_X;">
<!ENTITY COUNTER_BOTTOM_Y "190">
<!ENTITY COUNTER_TOP_Y "80">

<!-- Error Message -->
<!ENTITY ERROR_MESSAGE_OPACITY "0" >
<!ENTITY COMPARE_ERROR_OPACITY "0" >
<!ENTITY COUNTER_MID_Y "125">
<!ENTITY COUNTER_MAX_PERIOD "`${EnablePeriodSwap ? (Period0 > Period1 ? Period0 : Period1) : Period0}`">

<!-- CC0_MATCH event lines (grey vertical lines showing overflow/underflow points) -->
<!ENTITY CC0_MATCH_LINE1_X "265">
<!ENTITY CC0_MATCH_LINE2_X "635">

<!-- Compare0_Buff Y coordinates (visible on right side when EnableCompare0Swap is true) -->
<!ENTITY COMPARE1_BUFF_Y "`${asym_compare1_buff_y}`">
<!ENTITY COMPARE2_BUFF_Y "`${asym_compare2_buff_y}`">

<!-- Visibility flags for buffered compare lines (show on right side when swap enabled) -->
<!ENTITY SHOW_SWAP1_BUFF "`${EnableCompare0Swap ? 1 : 0}`">
<!ENTITY SHOW_SWAP0_BUFF "`${EnableCompare0Swap ? 1 : 0}`">

<!-- Separate compare lines for each triangle (dynamic Y based on compare vs period) -->
<!ENTITY COMPARE1_Y "`${Compare0Value > Period0 ? 30 : 125}`">
<!ENTITY COMPARE1_CC1_Y "`${Compare1Value > Period0 ? 15 : 100}`">
<!ENTITY COMPARE2_Y "`${Compare0Value > Period1 ? 30 : 125}`">
<!ENTITY COMPARE2_CC1_Y "`${Compare1Value > Period1 ? 15 : 100}`">

<!-- Period lines on top of triangles -->
<!ENTITY PERIOD1_LINE_Y "45">
<!ENTITY PERIOD2_LINE_Y "45">

<!-- Main period line for single period mode -->
<!ENTITY MAIN_PERIOD_LINE_Y "45">
<!ENTITY MAIN_PERIOD_LEFT_X "80">
<!ENTITY MAIN_PERIOD_RIGHT_X "820">

<!-- Visibility controls -->
<!ENTITY SHOW_INDIVIDUAL_PERIODS "1.0">
<!ENTITY SHOW_MAIN_PERIOD "0.0">
<!ENTITY SHOW_INTERRUPT_TC "0.0">
<!ENTITY SHOW_INTERRUPT_CC0 "0.0">
<!ENTITY SHOW_INTERRUPT_CC1 "0.0">
<!ENTITY SHOW_CC1_LINES "1.0">
<!ENTITY SHOW_BUFFER_COMPARE0_LINES "0.0">
<!ENTITY SHOW_BUFFER_COMPARE1_LINES "0.0">

<!-- Asymmetric-align dot visibility (computed by personality file) -->
<!ENTITY SHOW_ASYM_ALIGN_DOT1_2 "0.0">
<!ENTITY SHOW_ASYM_ALIGN_DOT1_2_CC1 "0.0">
<!ENTITY SHOW_ASYM_ALIGN_DOT3_4 "0.0">
<!ENTITY SHOW_ASYM_ALIGN_DOT3_4_CC1 "0.0">

<!-- Interrupt dot visibility -->
<!ENTITY SHOW_INTERRUPT_CC0_DOT1 "0.0">
<!ENTITY SHOW_INTERRUPT_CC0_DOT2 "0.0">
<!ENTITY SHOW_INTERRUPT_CC0_DOT3 "0.0">
<!ENTITY SHOW_INTERRUPT_CC0_DOT4 "0.0">
<!ENTITY SHOW_INTERRUPT_CC1_DOT1 "0.0">
<!ENTITY SHOW_INTERRUPT_CC1_DOT2 "0.0">
<!ENTITY SHOW_INTERRUPT_CC1_DOT3 "0.0">
<!ENTITY SHOW_INTERRUPT_CC1_DOT4 "0.0">

<!-- Period and compare values -->
<!ENTITY PERIOD1_VALUE "32768">
<!ENTITY PERIOD2_VALUE "32768">
<!ENTITY COMPARE1_VALUE "16384">
<!ENTITY COMPARE1_CC1_VALUE "16384">
<!ENTITY COMPARE2_VALUE "16384">
<!ENTITY COMPARE2_CC1_VALUE "16384">
<!ENTITY COMPARE1_LABEL "Compare 0">
<!ENTITY COMPARE1_CC1_LABEL "Compare 1">
<!ENTITY COMPARE2_LABEL "Compare 0">
<!ENTITY COMPARE2_CC1_LABEL "Compare 1">

<!-- DOT coordinates for asymmetric-aligned PWM - default values (will be overridden by personality substitutions) -->
<!ENTITY PWM_DOT1_X "220">
<!ENTITY PWM_DOT1_Y "125">
<!ENTITY PWM_DOT2_X "350">
<!ENTITY PWM_DOT2_Y "125">
<!ENTITY PWM_DOT3_X "550">
<!ENTITY PWM_DOT3_Y "125">
<!ENTITY PWM_DOT4_X "680">
<!ENTITY PWM_DOT4_Y "125">
<!ENTITY PWM_DOT1_CC1_X "200">
<!ENTITY PWM_DOT1_CC1_Y "100">
<!ENTITY PWM_DOT2_CC1_X "330">
<!ENTITY PWM_DOT2_CC1_Y "100">
<!ENTITY PWM_DOT3_CC1_X "530">
<!ENTITY PWM_DOT3_CC1_Y "100">
<!ENTITY PWM_DOT4_CC1_X "660">
<!ENTITY PWM_DOT4_CC1_Y "100">

<!-- Color definitions -->
<!ENTITY IFX_COLOR_BERRY400 "#BE3283">
<!ENTITY IFX_COLOR_LAWN500 "#9BBA43">
<!ENTITY IFX_COLOR_BLACK "#1D1D1D">

<!-- Opacity and visibility controls for Compare0/Compare0_Buff (computed by personality) -->
<!ENTITY COMPARE1_FULL_OPACITY "1.0">
<!ENTITY COMPARE1_LEFT_OPACITY "1.0">
<!ENTITY COMPARE1_BUFF_OPACITY "1.0">
<!ENTITY COMPARE2_FULL_OPACITY "1.0">
<!ENTITY COMPARE2_LEFT_OPACITY "1.0">
<!ENTITY COMPARE2_BUFF_OPACITY "1.0">

<!-- DOT visibility controls for asymmetric alignment -->
<!ENTITY SHOW_ASYM_ALIGN_DOT1_2_COMPARE0 "0.0">
<!ENTITY SHOW_ASYM_ALIGN_DOT1_2_COMPARE0_DOT2 "0.0">
<!ENTITY SHOW_ASYM_ALIGN_DOT3_4_COMPARE0 "0.0">
<!ENTITY SHOW_ASYM_ALIGN_DOT3_4_COMPARE0_DOT4 "0.0">
<!ENTITY DOT2_BUFF_COMPARE0_OPACITY "0.0">
<!ENTITY DOT4_BUFF_COMPARE0_OPACITY "0.0">
<!ENTITY DOT2_OPACITY "0.0">
<!ENTITY DOT4_OPACITY "0.0">

<!-- Interrupt indicators for Compare0 and Compare0_Buff (computed by personality) -->
<!ENTITY SHOW_INTERRUPT_CC0_BUFF_DOT2 "0.0">
<!ENTITY SHOW_INTERRUPT_CC0_DOT3 "0.0">
<!ENTITY SHOW_INTERRUPT_CC0_BUFF_DOT4 "0.0">

<!-- Static and dynamic Compare0 coordinates for Triangle 2 -->
<!ENTITY PWM_DOT3_COMPARE0_X "550">
<!ENTITY PWM_DOT4_COMPARE0_X "680">
<!ENTITY COMPARE0_VALUE "16384">
<!ENTITY COMPARE0_TRIANGLE2_Y "100">

<!-- Buffered compare coordinates for waveform control (computed by personality) -->
<!ENTITY PWM_DOT2_CC1_BUFF_X "350">
<!ENTITY PWM_DOT4_CC1_BUFF_X "680">

<!-- Waveform X coordinates (computed by personality - swap-aware) -->
<!ENTITY PWM_DOT2_WAVEFORM_X "350">
<!ENTITY PWM_DOT3_WAVEFORM_X "550">
<!ENTITY PWM_DOT4_WAVEFORM_X "680">

]
>

<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 450" width="900" height="450" style="background: white;">
  <!-- Title -->
  <text x="400" y="20" font-family="Arial" font-size="16" fill="black">PWM Signal - Asymmetric Aligned</text>

  <defs>
    <marker id="arrow-up" markerWidth="15" markerHeight="15" refX="5" refY="3" orient="0">
      <polygon points="2,0 8,0 5,8" fill="black" stroke="black" stroke-width="0.5"/>
    </marker>
  </defs>

  <!-- Counter line: vertical dotted line showing timer from 0 (bottom) to max period (top) -->
  <line id="Counter" x1="&COUNTER_X;" y1="&COUNTER_BOTTOM_Y;" x2="&COUNTER_X;" y2="&COUNTER_TOP_Y;" stroke="black" stroke-width="2" stroke-dasharray="4,4" opacity="0.7" />
  <text x="&COUNTER_X;" y="&COUNTER_MID_Y;" font-family="Arial" font-size="10" fill="black" text-anchor="end" dx="-5" dy="0">counter</text>
  <text x="&COUNTER_X;" y="&COUNTER_TOP_Y;" font-family="Arial" font-size="9" fill="black" text-anchor="end" dx="-5" dy="10">&COUNTER_MAX_PERIOD;</text>
  <text x="&COUNTER_X;" y="&COUNTER_BOTTOM_Y;" font-family="Arial" font-size="9" fill="black" text-anchor="end" dx="-5" dy="15">0</text>

  <!-- CC0_MATCH overflow event lines: grey vertical lines showing where compare equals period (cc0_match events) -->
  <!-- Triangle 1: where Compare0 = Period0 (underflow in up-counting) -->
  <line id="CC0_Match_Line_1" x1="&CC0_MATCH_LINE1_X;" y1="190" x2="&CC0_MATCH_LINE1_X;" y2="60" stroke="grey" stroke-width="1.5" opacity="0.5" />
  
  <!-- Triangle 2: where Compare0/Compare0_Buff = Period1/Period0 (overflow in down-counting) -->
  <line id="CC0_Match_Line_2" x1="&CC0_MATCH_LINE2_X;" y1="190" x2="&CC0_MATCH_LINE2_X;" y2="60" stroke="grey" stroke-width="1.5" opacity="0.5" />

  <!-- Ramp lines (2 triangles with independent scaling) -->
  <!-- Triangle 1: Period0 up-counting -->
  <line id="Ramp Line 1" x1="&TRIANGLE1_LEFT_X;" y1="190" x2="&TRIANGLE1_PEAK_X;" y2="&TRIANGLE1_PEAK_Y;" stroke="black" stroke-width="2" />
  <line id="Ramp Line 2" x1="&TRIANGLE1_PEAK_X;" y1="&TRIANGLE1_PEAK_Y;" x2="&TRIANGLE1_RIGHT_X;" y2="190" stroke="black" stroke-width="2" />
  
  <!-- Triangle 2: Period1 down-counting -->
  <line id="Ramp Line 3" x1="&TRIANGLE2_LEFT_X;" y1="190" x2="&TRIANGLE2_PEAK_X;" y2="&TRIANGLE2_PEAK_Y;" stroke="black" stroke-width="2" />
  <line id="Ramp Line 4" x1="&TRIANGLE2_PEAK_X;" y1="&TRIANGLE2_PEAK_Y;" x2="&TRIANGLE2_RIGHT_X;" y2="190" stroke="black" stroke-width="2" />

  <!-- Compare lines for Triangle 1 (ALWAYS shows Compare0) -->
  <!-- When EnableCompare0Swap is false: show full line across entire triangle -->
  <line x1="&TRIANGLE1_LEFT_X;" y1="&COMPARE1_Y;" x2="&TRIANGLE1_RIGHT_X;" y2="&COMPARE1_Y;" stroke="red" stroke-dasharray="3,3" stroke-width="1" opacity="&COMPARE1_FULL_OPACITY;"/>
  <!-- When EnableCompare0Swap is true: show only on left side (before grey line) -->
  <line x1="&TRIANGLE1_LEFT_X;" y1="&COMPARE1_Y;" x2="&CC0_MATCH_LINE1_X;" y2="&COMPARE1_Y;" stroke="red" stroke-dasharray="3,3" stroke-width="1" opacity="&COMPARE1_LEFT_OPACITY;"/>
  <text x="&TRIANGLE1_LEFT_X;" y="&COMPARE1_Y;" font-family="Arial" font-size="10" fill="red" text-anchor="start" dx="5" dy="-12">&COMPARE1_LABEL;: &COMPARE1_VALUE;</text>
  
  <!-- Compare1/CC1 line for Triangle 1 (visible when CC1 is enabled) -->
  <!-- <line x1="&TRIANGLE1_LEFT_X;" y1="&COMPARE1_CC1_Y;" x2="&TRIANGLE1_RIGHT_X;" y2="&COMPARE1_CC1_Y;" stroke="orange" stroke-dasharray="3,3" stroke-width="1" opacity="&SHOW_CC1_LINES;"/> -->
  <!-- <text x="&TRIANGLE1_LEFT_X;" y="&COMPARE1_CC1_Y;" font-family="Arial" font-size="10" fill="orange" text-anchor="start" dx="5" dy="-12" opacity="&SHOW_CC1_LINES;">&COMPARE1_CC1_LABEL;: &COMPARE1_CC1_VALUE;</text> -->
  
  <!-- Compare0 lines for Triangle 2 (ALWAYS shows Compare0) -->
  <!-- When EnableCompare0Swap is false: show full line across entire triangle -->
  <line x1="&TRIANGLE2_LEFT_X;" y1="&COMPARE0_TRIANGLE2_Y;" x2="&TRIANGLE2_RIGHT_X;" y2="&COMPARE0_TRIANGLE2_Y;" stroke="red" stroke-dasharray="3,3" stroke-width="1" opacity="&COMPARE2_FULL_OPACITY;"/>
  <!-- When EnableCompare0Swap is true: show only on left side (before grey line) -->
  <line x1="&TRIANGLE2_LEFT_X;" y1="&COMPARE0_TRIANGLE2_Y;" x2="&CC0_MATCH_LINE2_X;" y2="&COMPARE0_TRIANGLE2_Y;" stroke="red" stroke-dasharray="3,3" stroke-width="1" opacity="&COMPARE2_LEFT_OPACITY;"/>
  <text x="&TRIANGLE2_LEFT_X;" y="&COMPARE0_TRIANGLE2_Y;" font-family="Arial" font-size="10" fill="red" text-anchor="start" dx="5" dy="-12">Compare 0: &COMPARE0_VALUE;</text>
  
  <!-- Compare1/CC1 line for Triangle 2 (visible when CC1 is enabled) -->
  <!-- <line x1="&TRIANGLE2_LEFT_X;" y1="&COMPARE2_CC1_Y;" x2="&TRIANGLE2_RIGHT_X;" y2="&COMPARE2_CC1_Y;" stroke="purple" stroke-dasharray="3,3" stroke-width="1" opacity="&SHOW_CC1_LINES;"/> -->
  <!-- <text x="&TRIANGLE2_LEFT_X;" y="&COMPARE2_CC1_Y;" font-family="Arial" font-size="10" fill="purple" text-anchor="start" dx="5" dy="-12" opacity="&SHOW_CC1_LINES;">&COMPARE2_CC1_LABEL;: &COMPARE2_CC1_VALUE;</text> -->

  <!-- Compare0_Buff lines (shown on right side of overflow line when EnableCompare0Swap is true) -->
  <!-- Triangle 1: Compare0_Buff line (visible only on right side of grey line when swap enabled) -->
  <line x1="&CC0_MATCH_LINE1_X;" y1="&COMPARE1_BUFF_Y;" x2="&TRIANGLE1_RIGHT_X;" y2="&COMPARE1_BUFF_Y;" stroke="blue" stroke-dasharray="3,3" stroke-width="1" opacity="&COMPARE1_BUFF_OPACITY;" />
  <text x="&CC0_MATCH_LINE1_X;" y="&COMPARE1_BUFF_Y;" font-family="Arial" font-size="10" fill="blue" text-anchor="start" dx="5" dy="-8" opacity="&COMPARE1_BUFF_OPACITY;">Compare0_Buff</text>
  
  <!-- Triangle 2: Compare0_Buff line (visible only on right side of grey line when swap enabled) -->
  <line x1="&CC0_MATCH_LINE2_X;" y1="&COMPARE2_BUFF_Y;" x2="&TRIANGLE2_RIGHT_X;" y2="&COMPARE2_BUFF_Y;" stroke="blue" stroke-dasharray="3,3" stroke-width="1" opacity="&COMPARE2_BUFF_OPACITY;" />
  <text x="&CC0_MATCH_LINE2_X;" y="&COMPARE2_BUFF_Y;" font-family="Arial" font-size="10" fill="blue" text-anchor="start" dx="5" dy="-8" opacity="&COMPARE2_BUFF_OPACITY;">Compare0_Buff</text>
  <!-- Main period line (visible when EnablePeriodSwap is false) -->
  <line x1="&MAIN_PERIOD_LEFT_X;" y1="&MAIN_PERIOD_LINE_Y;" x2="&MAIN_PERIOD_RIGHT_X;" y2="&MAIN_PERIOD_LINE_Y;" stroke="black" stroke-dasharray="3" stroke-width="1.5" opacity="&SHOW_MAIN_PERIOD;"/>
  <text x="450" y="&MAIN_PERIOD_LINE_Y;" font-family="Arial" font-size="12" fill="black" text-anchor="middle" dy="-9" opacity="&SHOW_MAIN_PERIOD;">Period: &PERIOD1_VALUE;</text>

  <!-- Individual period lines aligned with triangle peaks (visible when EnablePeriodSwap is true) -->
  <line x1="&TRIANGLE1_LEFT_X;" y1="&PERIOD1_LINE_Y;" x2="&TRIANGLE1_RIGHT_X;" y2="&PERIOD1_LINE_Y;" stroke="green" stroke-dasharray="3" stroke-width="1" opacity="&SHOW_INDIVIDUAL_PERIODS;"/>
  <line x1="&TRIANGLE2_LEFT_X;" y1="&PERIOD2_LINE_Y;" x2="&TRIANGLE2_RIGHT_X;" y2="&PERIOD2_LINE_Y;" stroke="purple" stroke-dasharray="3" stroke-width="1" opacity="&SHOW_INDIVIDUAL_PERIODS;"/>

  <!-- Individual period line labels positioned above the lines -->
  <text x="&TRIANGLE1_PEAK_X;" y="&PERIOD1_LINE_Y;" font-family="Arial" font-size="10" fill="green" text-anchor="middle" dy="-9" opacity="&SHOW_INDIVIDUAL_PERIODS;">Period0: &PERIOD1_VALUE;</text>
  <text x="&TRIANGLE2_PEAK_X;" y="&PERIOD2_LINE_Y;" font-family="Arial" font-size="10" fill="purple" text-anchor="middle" dy="-9" opacity="&SHOW_INDIVIDUAL_PERIODS;">Period1: &PERIOD2_VALUE;</text>

  <!-- Downward dashed markers from DOTs -->
  <!-- Triangle 1 Compare0 dots (visible based on asymmetric alignment) -->
  <line id="Line From Dot 1" x1="&PWM_DOT1_X;" y1="&COMPARE1_Y;" x2="&PWM_DOT1_X;" y2="&MARKS_Y_BOT;" stroke="red" stroke-dasharray="3,3" stroke-width="1" opacity="&SHOW_ASYM_ALIGN_DOT1_2_COMPARE0;"/>
  <line id="Line From Dot 2" x1="&PWM_DOT2_X;" y1="&COMPARE1_Y;" x2="&PWM_DOT2_X;" y2="&MARKS_Y_BOT;" stroke="red" stroke-dasharray="3,3" stroke-width="1" opacity="&SHOW_ASYM_ALIGN_DOT1_2_COMPARE0_DOT2;"/>
  
  <!-- Triangle 1 Compare1/CC1 dots (visible when CC1 enabled) -->
  <!-- <line id="Line From Dot 1 CC1" x1="&PWM_DOT1_CC1_X;" y1="&COMPARE1_CC1_Y;" x2="&PWM_DOT1_CC1_X;" y2="&MARKS_Y_BOT;" stroke="orange" stroke-dasharray="3,3" stroke-width="1" opacity="&SHOW_ASYM_ALIGN_DOT1_2_CC1;"/> -->
  <line id="Line From Dot 2 CC1 Buff" x1="&PWM_DOT2_CC1_BUFF_X;" y1="&COMPARE1_BUFF_Y;" x2="&PWM_DOT2_CC1_BUFF_X;" y2="&MARKS_Y_BOT;" stroke="blue" stroke-dasharray="3,3" stroke-width="1" opacity="&DOT2_BUFF_COMPARE0_OPACITY;"/>
  
  <!-- Triangle 2 Compare0 dots (visible based on asymmetric alignment) -->
  <line id="Line From Dot 3" x1="&PWM_DOT3_COMPARE0_X;" y1="&COMPARE0_TRIANGLE2_Y;" x2="&PWM_DOT3_COMPARE0_X;" y2="&MARKS_Y_BOT;" stroke="red" stroke-dasharray="3,3" stroke-width="1" opacity="&SHOW_ASYM_ALIGN_DOT3_4_COMPARE0;"/>
  <line id="Line From Dot 4" x1="&PWM_DOT4_COMPARE0_X;" y1="&COMPARE0_TRIANGLE2_Y;" x2="&PWM_DOT4_COMPARE0_X;" y2="&MARKS_Y_BOT;" stroke="red" stroke-dasharray="3,3" stroke-width="1" opacity="&SHOW_ASYM_ALIGN_DOT3_4_COMPARE0_DOT4;"/>
  
  <!-- Triangle 2 Compare1/CC1 Buff dots (visible when EnableCompare0Swap is true) -->
  <!-- <line id="Line From Dot 3 CC1" x1="&PWM_DOT3_CC1_X;" y1="&COMPARE2_CC1_Y;" x2="&PWM_DOT3_CC1_X;" y2="&MARKS_Y_BOT;" stroke="purple" stroke-dasharray="3,3" stroke-width="1" opacity="&SHOW_ASYM_ALIGN_DOT3_4_CC1;"/> -->
  <line id="Line From Dot 4 CC1 Buff" x1="&PWM_DOT4_CC1_BUFF_X;" y1="&COMPARE2_BUFF_Y;" x2="&PWM_DOT4_CC1_BUFF_X;" y2="&MARKS_Y_BOT;" stroke="blue" stroke-dasharray="3,3" stroke-width="1" opacity="&DOT4_BUFF_COMPARE0_OPACITY;"/>
  <!-- <line id="Line From Dot 4 CC1" x1="&PWM_DOT4_CC1_X;" y1="&COMPARE2_CC1_Y;" x2="&PWM_DOT4_CC1_X;" y2="&MARKS_Y_BOT;" stroke="purple" stroke-dasharray="3,3" stroke-width="1" opacity="&SHOW_ASYM_ALIGN_DOT3_4_CC1;"/> -->

  <!-- Compare intersection dots -->
  <!-- Triangle 1 Compare0 dots (visible based on asymmetric alignment) -->
  <circle id="Compare Dot 1" cx="&PWM_DOT1_X;" cy="&COMPARE1_Y;" r="3" fill="red" opacity="&SHOW_ASYM_ALIGN_DOT1_2_COMPARE0;" />
  <circle id="Compare Dot 2" cx="&PWM_DOT2_X;" cy="&COMPARE1_Y;" r="3" fill="red" opacity="&SHOW_ASYM_ALIGN_DOT1_2_COMPARE0_DOT2;" />
  
  <!-- Triangle 1 Compare1/CC1 dots (visible when CC1 enabled) -->
  <!-- <circle id="Compare Dot 1 CC1" cx="&PWM_DOT1_CC1_X;" cy="&COMPARE1_CC1_Y;" r="3" fill="orange" opacity="&SHOW_ASYM_ALIGN_DOT1_2_CC1;" /> -->
  <circle id="Compare Dot 2 CC1 Buff" cx="&PWM_DOT2_CC1_BUFF_X;" cy="&COMPARE1_BUFF_Y;" r="3" fill="blue" opacity="&DOT2_BUFF_COMPARE0_OPACITY;" />
  
  <!-- Triangle 2 Compare0 dots (visible based on asymmetric alignment) -->
  <circle id="Compare Dot 3" cx="&PWM_DOT3_COMPARE0_X;" cy="&COMPARE0_TRIANGLE2_Y;" r="3" fill="red" opacity="&SHOW_ASYM_ALIGN_DOT3_4_COMPARE0;" />
  <circle id="Compare Dot 4" cx="&PWM_DOT4_COMPARE0_X;" cy="&COMPARE0_TRIANGLE2_Y;" r="3" fill="red" opacity="&SHOW_ASYM_ALIGN_DOT3_4_COMPARE0_DOT4;" />
  
  <!-- Triangle 2 Compare1/CC1 Buff dots (visible when EnableCompare0Swap is true) -->
  <!-- <circle id="Compare Dot 3 CC1" cx="&PWM_DOT3_CC1_X;" cy="&COMPARE2_CC1_Y;" r="3" fill="purple" opacity="&SHOW_ASYM_ALIGN_DOT3_4_CC1;" /> -->
  <circle id="Compare Dot 4 CC1 Buff" cx="&PWM_DOT4_CC1_BUFF_X;" cy="&COMPARE2_BUFF_Y;" r="3" fill="blue" opacity="&DOT4_BUFF_COMPARE0_OPACITY;" />

  <!-- 4 Signal Lines in the Middle -->
  <text x="40" y="230" font-family="Arial" font-size="12" fill="black">overflow</text>
  <line id="Overflow" x1="50" y1="240" x2="850" y2="240" stroke="&IFX_COLOR_BERRY400;" stroke-width="2" />
  
  <text x="40" y="250" font-family="Arial" font-size="12" fill="black">underflow</text>
  <line id="Underflow" x1="50" y1="260" x2="850" y2="260" stroke="&IFX_COLOR_LAWN500;" stroke-width="2" />
  
  <text x="40" y="270" font-family="Arial" font-size="12" fill="black">tc</text>
  <line id="Terminal Count" x1="50" y1="280" x2="850" y2="280" stroke="#F97414" stroke-width="2" />
  
  <text x="40" y="290" font-family="Arial" font-size="12" fill="black">cc0_match</text>
  <line id="Compare Match" x1="50" y1="300" x2="850" y2="300" stroke="#06534B" stroke-width="2" />

  <!-- <text x="40" y="310" font-family="Arial" font-size="12" fill="black" opacity="&SHOW_CC1_LINES;">cc1_match</text> -->
  <!-- <line id="CC1 Compare Match" x1="50" y1="320" x2="850" y2="320" stroke="#FF6B35" stroke-width="2" opacity="&SHOW_CC1_LINES;" /> -->

  <!-- O-V arrows to triangle peaks -->
  <circle id="OV Dot 1" cx="&TRIANGLE1_PEAK_X;" cy="&OV_Y;" r="4" fill="black" />
  <circle id="OV Dot 2" cx="&TRIANGLE2_PEAK_X;" cy="&OV_Y;" r="4" fill="black" />
  
  <!-- Interrupt indicators above overflow dots (when InterruptTC is enabled) -->
  <text x="&TRIANGLE1_PEAK_X;" y="&OV_Y;" font-family="Arial" font-size="12" fill="red" text-anchor="middle" dy="-20" opacity="&SHOW_INTERRUPT_TC;" font-weight="bold">I</text>
  <text x="&TRIANGLE2_PEAK_X;" y="&OV_Y;" font-family="Arial" font-size="12" fill="red" text-anchor="middle" dy="-20" opacity="&SHOW_INTERRUPT_TC;" font-weight="bold">I</text>

  <!-- Interrupt indicators above Compare0 dots (when InterruptCC0 is enabled AND dot visible) -->
  <text x="&PWM_DOT1_X;" y="&CM_Y;" font-family="Arial" font-size="12" fill="red" text-anchor="middle" dy="-20" opacity="&SHOW_INTERRUPT_CC0_DOT1;" font-weight="bold">I</text>
  <text x="&PWM_DOT2_X;" y="&CM_Y;" font-family="Arial" font-size="12" fill="red" text-anchor="middle" dy="-20" opacity="&SHOW_INTERRUPT_CC0_DOT2;" font-weight="bold">I</text>
  <!-- Interrupt indicator above Compare0_Buff dot for Triangle 1 (when swap enabled) -->
  <text x="&PWM_DOT2_CC1_BUFF_X;" y="&CM_Y;" font-family="Arial" font-size="12" fill="red" text-anchor="middle" dy="-20" opacity="&SHOW_INTERRUPT_CC0_BUFF_DOT2;" font-weight="bold">I</text>
  <!-- Triangle 2 Compare0 dot at static Compare0 position -->
  <text x="&PWM_DOT3_COMPARE0_X;" y="&CM_Y;" font-family="Arial" font-size="12" fill="red" text-anchor="middle" dy="-20" opacity="&SHOW_INTERRUPT_CC0_DOT3;" font-weight="bold">I</text>
  <text x="&PWM_DOT4_X;" y="&CM_Y;" font-family="Arial" font-size="12" fill="red" text-anchor="middle" dy="-20" opacity="&SHOW_INTERRUPT_CC0_DOT4;" font-weight="bold">I</text>
  <!-- Interrupt indicator above Compare0_Buff dot for Triangle 2 (when swap enabled) -->
  <text x="&PWM_DOT4_CC1_BUFF_X;" y="&CM_Y;" font-family="Arial" font-size="12" fill="red" text-anchor="middle" dy="-20" opacity="&SHOW_INTERRUPT_CC0_BUFF_DOT4;" font-weight="bold">I</text>

  <!-- U-N arrows to triangle ends -->
  <circle id="UN Dot 1" cx="&TRIANGLE1_RIGHT_X;" cy="&UN_Y;" r="4" fill="black" />
  <circle id="UN Dot 2" cx="&TRIANGLE2_RIGHT_X;" cy="&UN_Y;" r="4" fill="black" />
  
  <!-- Interrupt indicators above underflow dots (when InterruptTC is enabled) -->
  <text x="&TRIANGLE1_RIGHT_X;" y="&UN_Y;" font-family="Arial" font-size="12" fill="red" text-anchor="middle" dy="-20" opacity="&SHOW_INTERRUPT_TC;" font-weight="bold">I</text>
  <text x="&TRIANGLE2_RIGHT_X;" y="&UN_Y;" font-family="Arial" font-size="12" fill="red" text-anchor="middle" dy="-20" opacity="&SHOW_INTERRUPT_TC;" font-weight="bold">I</text>

  <!-- Interrupt indicators above Compare1 dots (when InterruptCC1 is enabled AND dot visible) -->
  <!-- <text x="&PWM_DOT1_CC1_X;" y="&CM_CC1_Y;" font-family="Arial" font-size="12" fill="red" text-anchor="middle" dy="-20" opacity="&SHOW_INTERRUPT_CC1_DOT1;" font-weight="bold">I</text> -->
  <!-- <text x="&PWM_DOT2_CC1_X;" y="&CM_CC1_Y;" font-family="Arial" font-size="12" fill="red" text-anchor="middle" dy="-20" opacity="&SHOW_INTERRUPT_CC1_DOT2;" font-weight="bold">I</text> -->
  <!-- Interrupt indicator above Compare1_Buff dot for Triangle 1 (when swap enabled) -->
  <!-- <text x="&PWM_DOT2_CC1_BUFF_X;" y="&CM_CC1_Y;" font-family="Arial" font-size="12" fill="red" text-anchor="middle" dy="-20" opacity="&SHOW_INTERRUPT_CC1_BUFF_DOT2;" font-weight="bold">I</text> -->
  <!-- <text x="&PWM_DOT3_CC1_X;" y="&CM_CC1_Y;" font-family="Arial" font-size="12" fill="red" text-anchor="middle" dy="-20" opacity="&SHOW_INTERRUPT_CC1_DOT3;" font-weight="bold">I</text> -->
  <!-- <text x="&PWM_DOT4_CC1_X;" y="&CM_CC1_Y;" font-family="Arial" font-size="12" fill="red" text-anchor="middle" dy="-20" opacity="&SHOW_INTERRUPT_CC1_DOT4;" font-weight="bold">I</text> -->
  <!-- Interrupt indicator above Compare1_Buff dot for Triangle 2 (when swap enabled) -->
  <!-- <text x="&PWM_DOT4_CC1_BUFF_X;" y="&CM_CC1_Y;" font-family="Arial" font-size="12" fill="red" text-anchor="middle" dy="-20" opacity="&SHOW_INTERRUPT_CC1_BUFF_DOT4;" font-weight="bold">I</text> -->

  <!-- T-C arrows to triangle peaks and ends -->
  <circle id="TC Dot 1 Peak" cx="&TRIANGLE1_PEAK_X;" cy="&TC_Y;" r="4" fill="black" />
  <circle id="TC Dot 2 Peak" cx="&TRIANGLE2_PEAK_X;" cy="&TC_Y;" r="4" fill="black" />
  <circle id="TC Dot 1 End" cx="&TRIANGLE1_RIGHT_X;" cy="&TC_Y;" r="4" fill="black" />
  <circle id="TC Dot 2 End" cx="&TRIANGLE2_RIGHT_X;" cy="&TC_Y;" r="4" fill="black" />

  <!-- C-M arrows under DOTs -->
  <circle id="CM Dot 1" cx="&PWM_DOT1_X;" cy="&CM_Y;" r="4" fill="black" opacity="&SHOW_ASYM_ALIGN_DOT1_2;" />
  <circle id="CM Dot 2" cx="&PWM_DOT2_X;" cy="&CM_Y;" r="4" fill="black" opacity="&DOT2_OPACITY;" />
  <!-- CM Dot 2 Buff (Compare0_Buff for Triangle 1) -->
  <circle id="CM Dot 2 Buff" cx="&PWM_DOT2_CC1_BUFF_X;" cy="&CM_Y;" r="4" fill="black" opacity="&DOT2_BUFF_COMPARE0_OPACITY;" />
  <circle id="CM Dot 3" cx="&PWM_DOT3_COMPARE0_X;" cy="&CM_Y;" r="4" fill="black" opacity="&SHOW_ASYM_ALIGN_DOT3_4_COMPARE0;" />
  <!-- CM Dot 4 Buff (Compare0_Buff for Triangle 2) -->
  <circle id="CM Dot 4 Buff" cx="&PWM_DOT4_CC1_BUFF_X;" cy="&CM_Y;" r="4" fill="black" opacity="&DOT4_BUFF_COMPARE0_OPACITY;" />
  <circle id="CM Dot 4" cx="&PWM_DOT4_X;" cy="&CM_Y;" r="4" fill="black" opacity="&DOT4_OPACITY;" />

  <!-- CC1 Compare Match arrows under CC1 DOTs (visible when CC1 enabled) -->
  <!-- <circle id="CM CC1 Dot 1" cx="&PWM_DOT1_CC1_X;" cy="&CM_CC1_Y;" r="4" fill="black" opacity="&SHOW_ASYM_ALIGN_DOT1_2_CC1;" /> -->
  <!-- <circle id="CM CC1 Dot 2 Buff" cx="&PWM_DOT2_CC1_BUFF_X;" cy="&CM_CC1_Y;" r="4" fill="black" opacity="&DOT2_BUFF_OPACITY;" /> -->
  <!-- <circle id="CM CC1 Dot 3" cx="&PWM_DOT3_CC1_X;" cy="&CM_CC1_Y;" r="4" fill="black" opacity="&SHOW_ASYM_ALIGN_DOT3_4_CC1;" /> -->
  <!-- <circle id="CM CC1 Dot 4 Buff" cx="&PWM_DOT4_CC1_BUFF_X;" cy="&CM_CC1_Y;" r="4" fill="black" opacity="&DOT4_BUFF_OPACITY;" /> -->

  <!-- CC0 Compare Match indicators for Compare0_Buff dots (black dots on cc0_match line) -->
  <circle id="CC0 Match Dot 2 Buff" cx="&PWM_DOT2_CC1_BUFF_X;" cy="300" r="4" fill="black" opacity="&DOT2_BUFF_COMPARE0_OPACITY;" />
  <circle id="CC0 Match Dot 4 Buff" cx="&PWM_DOT4_CC1_BUFF_X;" cy="300" r="4" fill="black" opacity="&DOT4_BUFF_COMPARE0_OPACITY;" />

  <!-- Waveform lines -->
  <!-- Line -->
  <text x="40" y="370" font-family="Arial" font-size="10" fill="black">line_out</text>
  <polyline points="&LINE_START_X;,&LINE_Y_L; &PWM_DOT1_X;,&LINE_Y_L; &PWM_DOT1_X;,&LINE_Y_H; &PWM_DOT2_WAVEFORM_X;,&LINE_Y_H; &PWM_DOT2_WAVEFORM_X;,&LINE_Y_L; &PWM_DOT3_WAVEFORM_X;,&LINE_Y_L; &PWM_DOT3_WAVEFORM_X;,&LINE_Y_H; &PWM_DOT4_WAVEFORM_X;,&LINE_Y_H; &PWM_DOT4_WAVEFORM_X;,&LINE_Y_L; &LINE_END_X;,&LINE_Y_L;" stroke="&IFX_COLOR_BERRY400;" fill="none" stroke-width="2"/>

  <!-- Complementary Line (line_n) -->
  <text x="40" y="440" font-family="Arial" font-size="10" fill="black">line_compl_out</text>
  <polyline points="50,&LINE_N_Y_L; &TRIANGLE1_LEFT_X;,&LINE_N_Y_L; &TRIANGLE1_LEFT_X;,&LINE_N_Y_H; &PWM_DOT1_X;,&LINE_N_Y_H; &PWM_DOT1_X;,&LINE_N_Y_L; &PWM_DOT2_WAVEFORM_X;,&LINE_N_Y_L; &PWM_DOT2_WAVEFORM_X;,&LINE_N_Y_H; &PWM_DOT3_WAVEFORM_X;,&LINE_N_Y_H; &PWM_DOT3_WAVEFORM_X;,&LINE_N_Y_L; &PWM_DOT4_WAVEFORM_X;,&LINE_N_Y_L; &PWM_DOT4_WAVEFORM_X;,&LINE_N_Y_H; &TRIANGLE2_RIGHT_X;,&LINE_N_Y_H; &TRIANGLE2_RIGHT_X;,&LINE_N_Y_L; 850,&LINE_N_Y_L;" stroke="&IFX_COLOR_LAWN500;" fill="none" stroke-width="2"/>

  <!-- Compare Error Message -->
  <g opacity="&COMPARE_ERROR_OPACITY;">
    <rect x="70" y="335" width="780" height="95" fill="white" stroke="red" stroke-width="2" rx="5"/>
    <text x="460" y="383" font-family="Arial" font-size="14" fill="red" text-anchor="middle">Compare value exceeds maximum counter width</text>
  </g>

  <!-- Note about Compare 1 -->
  <text x="750" y="50" font-family="Arial" font-size="10" fill="gray" text-anchor="end">Compare 1: N/A</text>
  <!-- Error Message: Display when Period exceeds pCntWidthMax -->
  <g opacity="&ERROR_MESSAGE_OPACITY;">
    <!-- Full SVG white background overlay -->
    <rect x="0" y="0" width="900" height="500" fill="white" opacity="1"/>
    
    <!-- White background for error message -->
    <rect x="150" y="180" width="600" height="120" fill="white" stroke="red" stroke-width="2" rx="5"/>
    
    <!-- Error message text -->
    <text x="450" y="215" font-family="Arial" font-size="18" font-weight="bold" fill="red" text-anchor="middle">ERROR</text>
    <text x="450" y="245" font-family="Arial" font-size="14" fill="red" text-anchor="middle">Period value exceeds maximum counter width</text>
    <text x="450" y="270" font-family="Arial" font-size="14" fill="red" text-anchor="middle">Please reduce the Period value</text>
  </g>
</svg>